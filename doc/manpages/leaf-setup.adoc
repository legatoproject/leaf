= leaf-setup(1)

== NAME

leaf-setup - downloads, installs and configures a leaf profile in one operation.

== SYNOPSIS

*leaf* *setup* [_PROFILE_] *-p* _PACKAGE_ ... [*--set* _KEY_[=_VALUE_] ...]

== DESCRIPTION

*leaf setup* downloads, installs and configures a *leaf* profile in one operation.

== OPTIONS

_PROFILE_::

Name to be given to the profile (optional).
If not specified, a profile name will be automatically generated
by concatenating + upper casing the _NAME_ specified in *-p* options (see below).
Profile names *must be unique* in a given workspace; if the chosen or generated _PROFILE_ is already
used in the current workspace, the command will fail.

*-p|--add-package* _PACKAGE_::

Package identifier for the package that you wish to install.
The package identifier will be accepted in two formats:
  * NAME: the latest available version with the package _NAME_ will be added to the profile
  * NAME_VERSION: the specified version will be added to the profile
+
Note: The *-p* option can be used multiple times, but must be specified at least one time.
+
Note: The *leaf search* command can be used to display the available packages.

*--set* _KEY_[=_VALUE_]::

Variable to add to the profile definition (see *leaf help env*).

== EXAMPLES

Create a new workspace and profile, using the latest version::

Assuming that you're in a new empty directory:
+
*leaf setup MYSDK1 -p mysdk_version1*

Add a profile to an existing workspace, with another version::

Assuming that you're in a directory that already contains a workspace:
+
*leaf setup MYSDK2 -p mysdk_version2*

== BEHAVIOR

*leaf setup* will initialize your workspace if none exists, or add another profile in an existing
workspace. As an high level command, using *leaf setup* is equivalent to chaining the following
steps:

*leaf init*::

If the current directory is not already into a workspace tree (i.e. the workspace root itself or a
sub-directory), the workspace will be created here (after confirmation).

*leaf profile create _PROFILE_*::

A new profile will then be created in the current workspace, using _PROFILE_ as a name (user
provided or generated). The new profile is then selected to be the current profile.

*leaf profile config -p _PACKAGE_*::

For each specified *-p* option, the required package will be added to the current profile.

*leaf profile sync*::

Finally, the profile provisioning will be triggered to install the required packages (if necessary)
and refresh the *leaf-data* structure.

*What's next?*::

Once your workspace and profile is created, you can enter a *leaf shell* to have your terminal
configured and ready to use the environment configured thanks to your current configuration.

== SEE ALSO

*leaf init*, *leaf profile*, *leaf select*, *leaf shell*
